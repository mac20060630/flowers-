/* Reset + root */
*,*::after,*::before{padding:0;margin:0;box-sizing:border-box}
:root{
  --dark-color:#000;
  --scene-scale:0.75;
  --title-color:#ffd9f0;
}

/* Page layout */
html,body{height:100%}
body{display:flex;align-items:flex-end;justify-content:center;min-height:100vh;background-color:var(--dark-color);overflow:hidden;perspective:1000px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

/* paused state (tap-to-pause) */
body.paused *{animation-play-state:paused !important;transition:none !important}
body.paused .flower__bud{animation:none !important}

/* Background/night */
.night{position:fixed;left:50%;top:0;transform:translateX(-50%);width:100%;height:100%;filter:blur(0.1vmin);background-image:radial-gradient(ellipse at top, transparent 0%, var(--dark-color)), radial-gradient(ellipse at bottom, var(--dark-color), rgba(145,233,255,0.16)), repeating-linear-gradient(220deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 19px, transparent 19px, transparent 22px), linear-gradient(90deg,#00fffa,#f0f0f0)}

/* Scene container - center & responsive */
.flowers{
  position:relative;
  transform:scale(var(--scene-scale));
  width:min(120vmin, 1100px);
  max-width:95vw;
  margin:0 auto;
  padding-bottom:6vmin;
}

/* Keep z-order sane */
.flower{position:absolute;bottom:10vmin;transform-origin:bottom center;z-index:10;--fl-speed:0.8s}

/* flower placements + animations (kept familiar) */
.flower--1{left:6vw;animation:moving-flower-1 4s linear infinite}
.flower--1 .flower__line{height:70vmin;animation-delay:0.3s}
.flower--2{left:38vw;transform:rotate(12deg);animation:moving-flower-2 4s linear infinite}
.flower--2 .flower__line{height:60vmin;animation-delay:0.8s}
.flower--3{left:60vw;transform:rotate(-8deg);animation:moving-flower-3 4s linear infinite}
.flower--3 .flower__line{animation-delay:0.9s}
.flower--4{left:84vw;transform:rotate(8deg) scale(0.9);animation:moving-flower-4 5s linear infinite;z-index:8}
.flower--4 .flower__line{height:50vmin;animation-delay:1.1s}
.flower--4 .flower__leafs{animation-delay:2s}
.flower--5{left:-12vw;transform:rotate(-8deg) scale(0.85);animation:moving-flower-5 4.2s linear infinite;z-index:12}
.flower--5 .flower__line{height:65vmin;animation-delay:0.6s}
.flower--5 .flower__leafs{animation-delay:1.6s}

/* leafs */
.flower__leafs{position:relative;animation:blooming-flower 1.6s backwards}
.flower__leafs--1{animation-delay:0.9s}
.flower__leafs--2{animation-delay:1.2s}
.flower__leafs--3{animation-delay:1.5s}
.flower__leafs::after{content:"";position:absolute;left:0;top:0;transform:translate(-50%,-100%);width:7vmin;height:7vmin;background-color:#6bf0ff;filter:blur(9vmin)}
.flower__leaf{position:absolute;bottom:0;left:50%;width:8vmin;height:11vmin;border-radius:51% 49% 47% 53%/44% 45% 55% 69%;background-color:#65e6cc;background-image:linear-gradient(to top,#40bbab,#a7ffee);transform-origin:bottom center;opacity:0.95;box-shadow:inset 0 0 2vmin rgba(255,255,255,0.35)}
.flower__leaf--1{transform:translate(-10%,1%) rotateY(40deg) rotateX(-50deg)}
.flower__leaf--2{transform:translate(-50%,-4%) rotateX(44deg)}
.flower__leaf--3{transform:translate(-90%,0%) rotateY(45deg) rotateX(50deg)}
.flower__leaf--4{width:8vmin;height:8vmin;transform-origin:bottom left;border-radius:4vmin 10vmin 4vmin 4vmin;transform:translate(0%,18%) rotateX(70deg) rotate(-43deg);background-image:linear-gradient(to top,#39c6d6,#a7ffee);z-index:1;opacity:0.9}

/* center details */
.flower__white-circle{position:absolute;left:-3.5vmin;top:-3vmin;width:9vmin;height:4vmin;border-radius:50%;background-color:#fff}
.flower__white-circle::after{content:"";position:absolute;left:50%;top:45%;transform:translate(-50%,-50%);width:60%;height:60%;border-radius:inherit;background-image:repeating-linear-gradient(135deg,rgba(0,0,0,0.03) 0px,rgba(0,0,0,0.03) 1px,transparent 1px,transparent 12px), linear-gradient(90deg,#ffeb12,#ffce00)}

/* stems */
.flower__line{height:55vmin;width:1.5vmin;background-image:linear-gradient(to left, rgba(0,0,0,0.18), transparent, rgba(255,255,255,0.16)), linear-gradient(to top, transparent 10%, #14757a, #39c6d6);box-shadow:inset 0 0 2px rgba(0,0,0,0.35);animation:grow-flower-tree 3.6s backwards}
.flower__line__leaf{--w:7vmin;--h:calc(var(--w) + 2vmin);position:absolute;top:20%;left:90%;width:var(--w);height:var(--h);border-top-right-radius:var(--h);border-bottom-left-radius:var(--h);background-image:linear-gradient(to top, rgba(20,117,122,0.35), #39c6d6)}
.flower--4 .flower__line__leaf{left:80%}
.flower--5 .flower__line__leaf{left:95%}

/* three small glowing buds that sit on top of each stem */
.flower__buds{position:absolute;left:-7vmin;top:-12vmin;width:18vmin;height:12vmin;pointer-events:none}
.flower__bud{position:absolute;width:2.6vmin;height:2.6vmin;border-radius:50%;background:radial-gradient(circle,#23f0ff,#00a3c2);box-shadow:0 0 1.6vmin rgba(35,240,255,0.8);filter:blur(0.06vmin);transform-origin:center;transform:scale(0);animation:bud-pop 0.45s cubic-bezier(.2,.9,.3,1) backwards, bud-bob 3.2s ease-in-out infinite}
.flower__bud--1{left:1.6vmin;top:3vmin;animation-delay:0.8s}
.flower__bud--2{left:7vmin;top:0.6vmin;animation-delay:0.95s}
.flower__bud--3{left:12.4vmin;top:3vmin;animation-delay:1.1s}
@keyframes bud-pop{0%{transform:scale(0)}100%{transform:scale(1)}}
@keyframes bud-bob{0%{transform:translateY(0)}50%{transform:translateY(-0.5vmin)}100%{transform:translateY(0)}}

/* lights */
.flower__light{position:absolute;bottom:0vmin;width:1vmin;height:1vmin;background-color:#fffb00;border-radius:50%;filter:blur(0.18vmin);animation:light-ans 3.6s linear infinite backwards}
.flower__light:nth-child(odd){background-color:#23f0ff}
.flower__light--1{left:-2vmin;animation-delay:0.8s}
.flower__light--2{left:3vmin;animation-delay:0.45s}
.flower__light--3{left:-6vmin;animation-delay:0.25s}
.flower__light--4{left:6vmin;animation-delay:0.7s}
.flower__light--5{left:-1vmin;animation-delay:1.2s}
.flower__light--6{left:-4vmin;animation-delay:2.6s}
.flower__light--7{left:3vmin;animation-delay:1.7s}
.flower__light--8{left:-6vmin;animation-delay:2.8s}

/* animations */
@keyframes grow-ans{0%{transform:scale(0);opacity:0}}
@keyframes light-ans{0%{opacity:0;transform:translateY(0vmin)}25%{opacity:1;transform:translateY(-4vmin) translateX(-1vmin)}50%{opacity:1;transform:translateY(-12vmin) translateX(1vmin);filter:blur(0.2vmin)}75%{transform:translateY(-16vmin) translateX(-1vmin);filter:blur(0.2vmin)}100%{transform:translateY(-24vmin);opacity:0;filter:blur(0.9vmin)}}
@keyframes moving-flower-1{0%,100%{transform:rotate(2deg)}50%{transform:rotate(-2deg)}}
@keyframes moving-flower-2{0%,100%{transform:rotate(12deg)}50%{transform:rotate(8deg)}}
@keyframes moving-flower-3{0%,100%{transform:rotate(-8deg)}50%{transform:rotate(-10deg) rotateY(-6deg)}}
@keyframes moving-flower-4{0%,100%{transform:rotate(8deg) scale(0.9)}50%{transform:rotate(6deg) scale(0.92)}}
@keyframes moving-flower-5{0%,100%{transform:rotate(-8deg) scale(0.85)}50%{transform:rotate(-10deg) scale(0.88) rotateY(-6deg)}}
@keyframes blooming-leaf-right{0%{transform-origin:left;transform:rotate(70deg) rotateY(30deg) scale(0)}}
@keyframes blooming-leaf-left{0%{transform-origin:right;transform:rotate(-70deg) rotateY(30deg) scale(0)}}
@keyframes grow-flower-tree{0%{height:0;border-radius:1vmin}}
@keyframes blooming-flower{0%{transform:scale(0)}}

/* sparkles */
.sparkle{position:absolute;width:1vmin;height:1vmin;background:white;border-radius:50%;box-shadow:0 0 1.2vmin rgba(255,255,255,0.9);animation:sparkle-fade 2.6s linear infinite;opacity:0.85}
@keyframes sparkle-fade{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1);opacity:1}100%{transform:scale(0);opacity:0}}

/* fireflies */
.firefly{position:absolute;width:1.2vmin;height:1.2vmin;background:radial-gradient(circle,#fff,#b5eaff 40%, transparent 70%);border-radius:50%;animation:firefly-float 4.6s ease-in-out infinite;filter:blur(0.12vmin);box-shadow:0 0 1.2vmin #9bdfff}
@keyframes firefly-float{0%{transform:translateY(0) translateX(0); opacity:0.45}50%{transform:translateY(-2.6vmin) translateX(1.6vmin); opacity:1}100%{transform:translateY(0) translateX(0); opacity:0.45}}

/* moon */
.moon{background:radial-gradient(circle, #fff, #d4e8ff 40%, #7faad9 70%, transparent 100%);box-shadow:0 0 3vmin #bcdcff, 0 0 6vmin #9ecbff;filter:blur(0.2vmin)}

/* shooting star */
.shooting-star{position:absolute;top:8vmin;left:-18vmin;width:0.8vmin;height:0.8vmin;border-radius:50%;background:white;box-shadow:0 0 2vmin white;animation:shoot 5.8s linear infinite;opacity:0.95}
@keyframes shoot{0%{transform:translateX(0) translateY(0);opacity:0}7%{opacity:1}50%{transform:translateX(120vmin) translateY(18vmin);opacity:1}100%{transform:translateX(200vmin) translateY(26vmin);opacity:0}}

/* sakura petals */
.sakura{position:absolute;width:3vmin;height:3vmin;background:radial-gradient(circle,#ffc2d1,#ff8fab);border-radius:60% 40% 60% 40%;opacity:0.85;animation:sakura-fall 6.5s linear infinite;filter:blur(0.08vmin)}
@keyframes sakura-fall{0%{transform:translateY(-10vmin) rotate(0deg);opacity:0.7}50%{transform:translateY(40vmin) rotate(90deg);opacity:1}100%{transform:translateY(80vmin) rotate(180deg);opacity:0.35}}

/* responsive & title styles */
.scene-title{
  position:absolute;
  top:-6vmin; /* sits above the flowers */
  left:50%;
  transform:translateX(-50%);
  z-index:9999;
  font-weight:700;
  color:var(--title-color);
  text-shadow:0 0 0.6vmin rgba(255,150,220,0.5);
  font-size:clamp(2.6vmin, 5vw, 5.2vmin);
  pointer-events:none;
  letter-spacing:0.06em;
  opacity:0.98;
}

/* medium screens */
@media (max-width:900px){
  :root{--scene-scale:0.62}
  .scene-title{top:-4vmin}
  .moon{width:12vmin;height:12vmin;right:6vmin;top:4vmin}
  .shooting-star{top:6vmin}
  .sakura{width:2.6vmin;height:2.6vmin}
  .firefly{width:1vmin;height:1vmin}
  .sparkle{animation-duration:2.3s}
}

/* small phones */
@media (max-width:480px){
  :root{--scene-scale:0.52}
  .flowers{padding-bottom:4vmin}
  .flower{bottom:6vmin}
  .flower__leaf{width:6.5vmin;height:9vmin}
  .flower__line{height:45vmin}
  .flower__leafs::after{width:6vmin;height:6vmin}
  .scene-title{font-size:clamp(3vmin,6vw,6vmin); top:-3vmin}
  .moon{width:9vmin;height:9vmin;right:4vmin;top:3vmin}
  .sparkle{width:0.8vmin;height:0.8vmin}
  .sakura{width:2vmin;height:2vmin}
  .shooting-star{animation-duration:5s}
  .firefly{width:0.9vmin;height:0.9vmin}
  /* reduce motion for low-power devices */
  @media (prefers-reduced-motion: reduce){
    *{animation-duration:0.001ms !important; animation-iteration-count:1 !important;}
  }
}

/* freeze animations until page ready */
.not-loaded *{animation-play-state:paused !important}